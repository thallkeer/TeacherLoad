@model TeacherLoadApp.Models.GroupLoadVM

@{
    ViewData["Title"] = "Групповая нагрузка";
}

<h2>Редактирование групповой нагрузки</h2>
<div class="row">
    <div class="col-md-6">
        <form asp-action="Edit">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="GroupLoad.GroupLoadID" />
            @{ await Html.RenderPartialAsync("_EditGroupLoad", Model); }
        </form>
    </div>
</div>

@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            const url = "@Url.Action("GetGroupsByCourse")";
            const selectedYear = $(".selected-year");
            var year = selectedYear.val();
            console.log(year);
            getGroupsByCourse(url, year, '.groups');

            selectedYear.change(function () {
                console.log(year);
                getGroupsByCourse(url, selectedYear.val(), '.groups');
            });
        });
    </script>
}